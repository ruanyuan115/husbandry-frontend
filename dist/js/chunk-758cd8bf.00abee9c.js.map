{"version":3,"sources":["webpack:///./src/components/SIdentify.vue?9cb6","webpack:///src/components/SIdentify.vue","webpack:///./src/components/SIdentify.vue?ae8a","webpack:///./src/components/SIdentify.vue","webpack:///./src/components/SIdentify.vue?90c7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","contentWidth","contentHeight","on","drawPic","staticRenderFns","name","props","identifyCode","type","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","mounted","methods","randomNum","Math","floor","random","max","min","randomColor","r","g","b","ctx","textBaseline","fillStyle","fillRect","drawText","i","drawLine","drawDot","font","deg","translate","x","y","rotate","fillText","txt","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,WAAW,MAAQP,EAAIQ,aAAa,OAASR,EAAIS,eAAeC,GAAG,CAAC,MAAQV,EAAIW,cACxOC,EAAkB,GCUtB,G,wCAAA,CACEC,KAAM,YACNC,MAAO,CACLC,aAAc,CACZC,KAAMC,OACNC,QAAS,QAEXC,YAAa,CACXH,KAAMI,OACNF,QAAS,IAEXG,YAAa,CACXL,KAAMI,OACNF,QAAS,IAEXI,mBAAoB,CAClBN,KAAMI,OACNF,QAAS,KAEXK,mBAAoB,CAClBP,KAAMI,OACNF,QAAS,KAEXM,SAAU,CACRR,KAAMI,OACNF,QAAS,GAEXO,SAAU,CACRT,KAAMI,OACNF,QAAS,KAEXQ,aAAc,CACZV,KAAMI,OACNF,QAAS,KAEXS,aAAc,CACZX,KAAMI,OACNF,QAAS,KAEXU,YAAa,CACXZ,KAAMI,OACNF,QAAS,GAEXW,YAAa,CACXb,KAAMI,OACNF,QAAS,KAEXV,aAAc,CACZQ,KAAMI,OACNF,QAAS,KAEXT,cAAe,CACbO,KAAMI,OACNF,QAAS,KAIbY,QAzDF,WA0DI7B,KAAKU,WAEPoB,QAAS,CAEPC,UAFJ,SAEA,KACM,OAAOC,KAAKC,MAAMD,KAAKE,UAAYC,EAAMC,GAAOA,IAGlDC,YANJ,SAMA,KACM,IAAN,sBACA,sBACA,sBACM,MAAO,OAASC,EAAI,IAAMC,EAAI,IAAMC,EAAI,KAE1C9B,QAZJ,WAaMV,KAAKc,aAAed,KAAK+B,UAAU,IAAzC,iBACM,IAAN,sCACA,qBACMU,EAAIC,aAAe,SAEnBD,EAAIE,UAAY3C,KAAKqC,YAC3B,wBACA,yBAEMI,EAAIG,SAAS,EAAG,EAAG5C,KAAKO,aAAcP,KAAKQ,eAE3C,IAAK,IAAX,mCACQR,KAAK6C,SAASJ,EAAKzC,KAAKc,aAAagC,GAAIA,GAE3C9C,KAAK+C,SAASN,GACdzC,KAAKgD,QAAQP,IAEfI,SA9BJ,SA8BA,OACMJ,EAAIE,UAAY3C,KAAKqC,YAAYrC,KAAKuB,SAAUvB,KAAKwB,UACrDiB,EAAIQ,KACV,8DACM,IAAN,yDACA,wDACUC,EAAMlD,KAAK+B,WAAW,GAAI,IAE9BU,EAAIU,UAAUC,EAAGC,GACjBZ,EAAIa,OAAO,EAAjB,aACMb,EAAIc,SAASC,EAAK,EAAG,GAErBf,EAAIa,QAAV,eACMb,EAAIU,WAAWC,GAAIC,IAErBN,SA7CJ,SA6CA,GAEM,IAAK,IAAX,YACQN,EAAIgB,YAAczD,KAAKqC,YAC/B,kBACA,mBAEQI,EAAIiB,YACJjB,EAAIkB,OACZ,oCACA,sCAEQlB,EAAImB,OACZ,oCACA,sCAEQnB,EAAIoB,UAGRb,QAhEJ,SAgEA,GAEM,IAAK,IAAX,aACQP,EAAIE,UAAY3C,KAAKqC,YAAY,EAAG,KACpCI,EAAIiB,YACJjB,EAAIqB,IACZ,oCACA,qCACA,EACA,EACA,WAEQrB,EAAIsB,WCnJkY,I,wBCQ1YC,EAAY,eACd,EACAlE,EACAa,GACA,EACA,KACA,WACA,MAIa,aAAAqD,E,kECnBf,yBAAmiB,EAAG","file":"js/chunk-758cd8bf.00abee9c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight},on:{\"click\":_vm.drawPic}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"s-canvas\">\n    <canvas\n      id=\"s-canvas\"\n      :width=\"contentWidth\"\n      :height=\"contentHeight\"\n      @click=\"drawPic\"\n    ></canvas>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"SIdentify\",\n  props: {\n    identifyCode: {\n      type: String,\n      default: \"1234\"\n    },\n    fontSizeMin: {\n      type: Number,\n      default: 25\n    },\n    fontSizeMax: {\n      type: Number,\n      default: 30\n    },\n    backgroundColorMin: {\n      type: Number,\n      default: 255\n    },\n    backgroundColorMax: {\n      type: Number,\n      default: 255\n    },\n    colorMin: {\n      type: Number,\n      default: 0\n    },\n    colorMax: {\n      type: Number,\n      default: 160\n    },\n    lineColorMin: {\n      type: Number,\n      default: 100\n    },\n    lineColorMax: {\n      type: Number,\n      default: 255\n    },\n    dotColorMin: {\n      type: Number,\n      default: 0\n    },\n    dotColorMax: {\n      type: Number,\n      default: 255\n    },\n    contentWidth: {\n      type: Number,\n      default: 100\n    },\n    contentHeight: {\n      type: Number,\n      default: 30\n    }\n  },\n    \n  mounted() {\n    this.drawPic();\n  },\n  methods: {\n    // 生成一个随机数\n    randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    // 生成一个随机的颜色\n    randomColor(min, max) {\n      let r = this.randomNum(min, max);\n      let g = this.randomNum(min, max);\n      let b = this.randomNum(min, max);\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    },\n    drawPic() {\n      this.identifyCode = this.randomNum(1000,9999).toString()\n      let canvas = document.getElementById(\"s-canvas\");\n      let ctx = canvas.getContext(\"2d\");\n      ctx.textBaseline = \"bottom\";\n      // 绘制背景\n      ctx.fillStyle = this.randomColor(\n        this.backgroundColorMin,\n        this.backgroundColorMax\n      );\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight);\n      // 绘制文字\n      for (let i = 0; i < this.identifyCode.length; i++) {\n        this.drawText(ctx, this.identifyCode[i], i);\n      }\n      this.drawLine(ctx);\n      this.drawDot(ctx);\n    },\n    drawText(ctx, txt, i) {\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n      ctx.font =\n        this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\";\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n      var deg = this.randomNum(-45, 45);\n      // 修改坐标原点和旋转角度\n      ctx.translate(x, y);\n      ctx.rotate((deg * Math.PI) / 180);\n      ctx.fillText(txt, 0, 0);\n      // 恢复坐标原点和旋转角度\n      ctx.rotate((-deg * Math.PI) / 180);\n      ctx.translate(-x, -y);\n    },\n    drawLine(ctx) {\n      // 绘制干扰线\n      for (let i = 0; i < 5; i++) {\n        ctx.strokeStyle = this.randomColor(\n          this.lineColorMin,\n          this.lineColorMax\n        );\n        ctx.beginPath();\n        ctx.moveTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        );\n        ctx.lineTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        );\n        ctx.stroke();\n      }\n    },\n    drawDot(ctx) {\n      // 绘制干扰点\n      for (let i = 0; i < 80; i++) {\n        ctx.fillStyle = this.randomColor(0, 255);\n        ctx.beginPath();\n        ctx.arc(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight),\n          1,\n          0,\n          2 * Math.PI\n        );\n        ctx.fill();\n      }\n    }\n  },\n};\n</script>\n<style scoped>\n.s-canvas {\n  height: 1.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SIdentify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SIdentify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SIdentify.vue?vue&type=template&id=db087f44&scoped=true&\"\nimport script from \"./SIdentify.vue?vue&type=script&lang=js&\"\nexport * from \"./SIdentify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SIdentify.vue?vue&type=style&index=0&id=db087f44&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db087f44\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SIdentify.vue?vue&type=style&index=0&id=db087f44&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SIdentify.vue?vue&type=style&index=0&id=db087f44&scoped=true&lang=css&\""],"sourceRoot":""}