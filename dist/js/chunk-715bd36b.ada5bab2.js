(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-715bd36b"],{"4bd4":function(e,t,i){"use strict";i("4de4"),i("7db0"),i("4160"),i("caad"),i("07ac"),i("2532"),i("159b");var n=i("5530"),r=i("58df"),s=i("7e2b"),a=i("3206");t["a"]=Object(r["a"])(s["a"],Object(a["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,i=function(e){return e.$watch("hasError",(function(i){t.$set(t.errorBag,e._uid,i)}),{immediate:!0})},n={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=e.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(e._uid)||(n.valid=i(e)))})):n.valid=i(e),n},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var i=this.watchers.find((function(e){return e._uid===t._uid}));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(n["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},"99dd":function(e,t,i){e.exports=i.p+"img/favicon.1b55839a.png"},da82:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticStyle:{"z-index":"10",width:"25rem","border-radius":"3rem",background:"rgba(225,255,255,0.85)"}},[n("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","padding-top":"1rem","padding-bottom":"1rem","padding-left":"1rem","padding-right":"1rem"}},[n("img",{staticStyle:{width:"5rem",height:"5rem"},attrs:{src:i("99dd")}}),n("p",{staticClass:"font-weight-black",staticStyle:{"font-size":"1.5rem",color:"#2F4F4F"}},[e._v(" 欢迎登陆吉源牧场管理系统 ")]),n("v-form",{ref:"form",staticStyle:{width:"20rem"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{rules:e.phoneRules,label:"手机号",required:"",clearable:""},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),n("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",rules:e.passwordRules,type:e.show3?"text":"password",label:"密码",required:"",clearable:""},on:{"click:append":function(t){e.show3=!e.show3}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("div",[n("v-text-field",{staticStyle:{display:"inline-block",width:"10rem"},attrs:{rules:e.identifyRules,label:"验证码",required:"",clearable:""},model:{value:e.identifyCode,callback:function(t){e.identifyCode=t},expression:"identifyCode"}}),n("s-identify",{ref:"identifyCode",staticStyle:{display:"inline-block",position:"relative",width:"3rem",height:"1.5rem",left:"2rem",top:"0.8rem"}})],1),n("div",{staticStyle:{display:"flex-direction:column","align-items":"space-around"}},[n("v-btn",{attrs:{block:"",color:"success"},on:{click:e.login}},[e._v(" 登陆 ")]),n("v-btn",{attrs:{text:"",color:"indigo",dark:""},on:{click:e.register}},[e._v(" 获取账号 ")]),n("v-btn",{staticStyle:{position:"relative",left:"5rem"},attrs:{text:"",color:"indigo",dark:""},on:{click:e.forgetPw}},[e._v(" 忘记密码 ")])],1)],1)],1)])},r=[],s=(i("d3b7"),i("5530")),a=i("2f62"),o={components:{SIdentify:function(){return i.e("chunk-758cd8bf").then(i.bind(null,"14dd"))}},data:function(){return{show3:!1,valid:!0,phoneNumber:"",phoneRules:[function(e){return!!e||"请填写手机号"},function(e){return e&&11===e.length||"手机号长度错误"}],password:"",passwordRules:[function(e){return!!e||"请填写密码"},function(e){return e&&e.length>0||"密码长度错误"}],identifyCode:"",identifyRules:[function(e){return!!e||"请填写验证码"},function(e){return e&&4===e.length||"验证码长度错误"}],checkbox:!1}},methods:Object(s["a"])(Object(s["a"])({register:function(){this.$router.push("/register")}},Object(a["b"])(["changeLogin"])),{},{login:function(){var e=this.$qs.stringify({username:this.phoneNumber,password:this.password}),t=this;if(11!==this.phoneNumber.length||this.password.length<8)return t.$message({message:"用户名和密码输入不规范",type:"error",center:!0}),void this.$refs.identifyCode.drawPic();this.identifyCode!==this.$refs.identifyCode.identifyCode?t.$message({message:"验证码错误",type:"error",center:!0}):this.$axios.post("/login",e).then((function(e){200===e.data.state?(t.userToken=e.data.data.token,t.changeLogin({Authorization:t.userToken,userID:e.data.data.userID,nickname:t.phoneNumber,role:e.data.data.role}),t.$router.push(t.global.homeUrl),t.$message({message:e.data.message,type:"success",center:!0})):t.$message({message:e.data.message,type:"error",center:!0})})).catch((function(e){t.$message({message:e.message,type:"error",center:!0}),console.log(e)})),this.$refs.identifyCode.drawPic()}})},d=o,u=i("2877"),l=i("6544"),c=i.n(l),h=i("8336"),f=i("4bd4"),p=i("8dd9"),m=i("8654"),g=Object(u["a"])(d,n,r,!1,null,null,null);t["default"]=g.exports;c()(g,{VBtn:h["a"],VForm:f["a"],VSheet:p["a"],VTextField:m["a"]})}}]);
//# sourceMappingURL=chunk-715bd36b.ada5bab2.js.map